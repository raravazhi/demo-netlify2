<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Kubeflow on vSphere â€“ Basic Guides</title>
    <link>https://vmware.github.io/ml-ops-platform-for-vsphere/docs/kubeflow-tutorial/</link>
    <description>Recent content in Basic Guides on Kubeflow on vSphere</description>
    <generator>Hugo -- gohugo.io</generator>
    
	  <atom:link href="https://vmware.github.io/ml-ops-platform-for-vsphere/docs/kubeflow-tutorial/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Docs: Users and Login</title>
      <link>https://vmware.github.io/ml-ops-platform-for-vsphere/docs/kubeflow-tutorial/lab1/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://vmware.github.io/ml-ops-platform-for-vsphere/docs/kubeflow-tutorial/lab1/</guid>
      <description>
        
        
        &lt;h2 id=&#34;access-kubeflow-central-dashboard&#34;&gt;Access Kubeflow Central Dashboard&lt;/h2&gt;
&lt;p&gt;To get the IP address of Kubeflow Central Dashboard, there are three options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;When you set &lt;code&gt;service_type&lt;/code&gt; to &lt;code&gt;LoadBalancer&lt;/code&gt;, run the command below and visit &lt;code&gt;EXTERNAL-IP&lt;/code&gt; of &lt;code&gt;istio-ingressgateway&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## In this example, we should visit http://10.105.151.142:80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get svc istio-ingressgateway -n istio-system
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                   TYPE           CLUSTER-IP       EXTERNAL-IP      PORT&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;S&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;                                                                      AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;istio-ingressgateway   LoadBalancer   198.51.217.125   10.105.151.142   15021:31063/TCP,80:30926/TCP,443:31275/TCP,31400:30518/TCP,15443:31204/TCP   11d
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you set &lt;code&gt;service_type&lt;/code&gt; to &lt;code&gt;NodePort&lt;/code&gt;, run the command below and visit &lt;code&gt;nodeIP&lt;/code&gt;:&lt;code&gt;nodePort&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## In this example, any one of the following will work:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# http://10.105.151.73:30926&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# http://10.105.151.74:30926&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# http://10.105.151.75:30926&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get svc istio-ingressgateway -n istio-system
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                   TYPE       CLUSTER-IP       EXTERNAL-IP   PORT&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;S&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;                                                                      AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;istio-ingressgateway   NodePort   198.51.217.125   &amp;lt;none&amp;gt;        15021:31063/TCP,80:30926/TCP,443:31275/TCP,31400:30518/TCP,15443:31204/TCP   11d
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get nodes -o wide
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                                                      STATUS   ROLES                  AGE   VERSION            INTERNAL-IP     EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION      CONTAINER-RUNTIME
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;v1a2-v1-23-8-tkc-v100-8c-dcpvc-4zct9                      Ready    control-plane,master   26d   v1.23.8+vmware.2   10.105.151.73   &amp;lt;none&amp;gt;        Ubuntu 20.04.4 LTS   5.4.0-124-generic   containerd://1.6.6
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;v1a2-v1-23-8-tkc-v100-8c-workers-zwfx4-77b7df85f7-f7f6f   Ready    &amp;lt;none&amp;gt;                 26d   v1.23.8+vmware.2   10.105.151.74   &amp;lt;none&amp;gt;        Ubuntu 20.04.4 LTS   5.4.0-124-generic   containerd://1.6.6
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;v1a2-v1-23-8-tkc-v100-8c-workers-zwfx4-77b7df85f7-l5mp5   Ready    &amp;lt;none&amp;gt;                 26d   v1.23.8+vmware.2   10.105.151.75   &amp;lt;none&amp;gt;        Ubuntu 20.04.4 LTS   5.4.0-124-generic   containerd://1.6.6
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use port-forwarding. Then visit the IP address of your client-side machine.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# if you are running the command locally, you should visit http://localhost:8080&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl port-forward -n istio-system svc/istio-ingressgateway --address 0.0.0.0 8080:80
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Then you can use default user and password to login&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../screenshots/dex.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Email: user@example.com
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Password: &lt;span class=&#34;m&#34;&gt;12341234&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Follow the Registration Flow, create your Kubeflow profile.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../screenshots/CD_REGISTRATION_FLOW_1.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../screenshots/CD_REGISTRATION_FLOW_2.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../screenshots/centraldashboard.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;You will see a profile and namespace being created&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get profile,namespace admin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                         AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;profile.kubeflow.org/admin   3m40s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME              STATUS   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;namespace/admin   Active   3m40s
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;add-pod-security-policy-for-your-namespace&#34;&gt;Add pod-security-policy for your namespace&lt;/h2&gt;
&lt;p&gt;To prevent error like&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;create Pod test-0 in StatefulSet &lt;span class=&#34;nb&#34;&gt;test&lt;/span&gt; failed error: pods &lt;span class=&#34;s2&#34;&gt;&amp;#34;test-0&amp;#34;&lt;/span&gt; is forbidden: PodSecurityPolicy: unable to admit pod: &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Run the following command to Add pod-security-policy for the namespace you just created, it will grant access to create pods in the namespace.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;NAMESPACE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;admin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF | kubectl apply -f -
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;kind: RoleBinding
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;apiVersion: rbac.authorization.k8s.io/v1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  name: rb-all-sa_ns-${NAMESPACE}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  namespace: ${NAMESPACE}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;roleRef:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  kind: ClusterRole
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  name: psp:vmware-system-privileged
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  apiGroup: rbac.authorization.k8s.io
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;subjects:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;- kind: Group
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  apiGroup: rbac.authorization.k8s.io
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  name: system:serviceaccounts:${NAMESPACE}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;whats-next&#34;&gt;What&amp;rsquo;s Next&lt;/h2&gt;
&lt;hr&gt;
&lt;p&gt;Now you are ready to move to the next tutorial &lt;a href=&#34;../lab2&#34;&gt;Notebook&lt;/a&gt; about Data cleaning, EDA, feature engineering, model training, evaluations&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: Notebooks</title>
      <link>https://vmware.github.io/ml-ops-platform-for-vsphere/docs/kubeflow-tutorial/lab2/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://vmware.github.io/ml-ops-platform-for-vsphere/docs/kubeflow-tutorial/lab2/</guid>
      <description>
        
        
        &lt;h1 id=&#34;full-source&#34;&gt;Full Source&lt;/h1&gt;
&lt;hr&gt;
&lt;p&gt;You can download the complete Jupyter Notebook &lt;a href=&#34;https://github.com/vmware/ml-ops-platform-for-vsphere/blob/main/website/content/en/docs/kubeflow-tutorial/lab2.ipynb&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h1 id=&#34;preview&#34;&gt;Preview&lt;/h1&gt;
&lt;hr&gt;
&lt;div&gt;
&lt;iframe 
style=&#34;
width: 100%;
height: 80vh;
border: 1px solid #aaa;
margin-bottom: 20px;
&#34;
src=&#34;https://nbviewer.org/github/vmware/ml-ops-platform-for-vsphere/blob/main/website/content/en/docs/kubeflow-tutorial/lab2.ipynb?flush_cache=true&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;h1 id=&#34;whats-next&#34;&gt;What&amp;rsquo;s Next&lt;/h1&gt;
&lt;hr&gt;
&lt;p&gt;Now move forward to &lt;a href=&#34;../lab3&#34;&gt;Training Operators&lt;/a&gt; about PyTorch distributed training with GPU&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: PyTorch Training (PyTorchJob)</title>
      <link>https://vmware.github.io/ml-ops-platform-for-vsphere/docs/kubeflow-tutorial/lab3/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://vmware.github.io/ml-ops-platform-for-vsphere/docs/kubeflow-tutorial/lab3/</guid>
      <description>
        
        
        &lt;h1 id=&#34;full-source&#34;&gt;Full Source&lt;/h1&gt;
&lt;hr&gt;
&lt;p&gt;You can download the complete Jupyter Notebook &lt;a href=&#34;https://github.com/vmware/ml-ops-platform-for-vsphere/blob/main/website/content/en/docs/kubeflow-tutorial/lab3.ipynb&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h1 id=&#34;preview&#34;&gt;Preview&lt;/h1&gt;
&lt;hr&gt;
&lt;div&gt;
&lt;iframe 
style=&#34;
width: 100%;
height: 80vh;
border: 1px solid #aaa;
margin-bottom: 20px;
&#34;
src=&#34;https://nbviewer.org/github/vmware/ml-ops-platform-for-vsphere/blob/main/website/content/en/docs/kubeflow-tutorial/lab3.ipynb?flush_cache=true&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;h1 id=&#34;whats-next&#34;&gt;What&amp;rsquo;s Next&lt;/h1&gt;
&lt;p&gt;Now you are ready to move to the next tutorial &lt;a href=&#34;../lab4&#34;&gt;Serving&lt;/a&gt; about model serving&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: Model Serving</title>
      <link>https://vmware.github.io/ml-ops-platform-for-vsphere/docs/kubeflow-tutorial/lab4/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://vmware.github.io/ml-ops-platform-for-vsphere/docs/kubeflow-tutorial/lab4/</guid>
      <description>
        
        
        &lt;h1 id=&#34;full-source&#34;&gt;Full Source&lt;/h1&gt;
&lt;hr&gt;
&lt;p&gt;You can download the complete Jupyter Notebook &lt;a href=&#34;https://github.com/vmware/ml-ops-platform-for-vsphere/blob/main/website/content/en/docs/kubeflow-tutorial/lab4.ipynb&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h1 id=&#34;preview&#34;&gt;Preview&lt;/h1&gt;
&lt;hr&gt;
&lt;div&gt;
&lt;iframe 
style=&#34;
width: 100%;
height: 80vh;
border: 1px solid #aaa;
margin-bottom: 20px;
&#34;
src=&#34;https://nbviewer.org/github/vmware/ml-ops-platform-for-vsphere/blob/main/website/content/en/docs/kubeflow-tutorial/lab4.ipynb?flush_cache=true&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&#34;whats-next&#34;&gt;What&amp;rsquo;s next&lt;/h2&gt;
&lt;p&gt;Now move forward to &lt;a href=&#34;../lab5_pipeline_complete/lab5&#34;&gt;Pipeline&lt;/a&gt; about Kubeflow pipeline&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: Pipeline</title>
      <link>https://vmware.github.io/ml-ops-platform-for-vsphere/docs/kubeflow-tutorial/lab5_pipeline_complete/lab5/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://vmware.github.io/ml-ops-platform-for-vsphere/docs/kubeflow-tutorial/lab5_pipeline_complete/lab5/</guid>
      <description>
        
        
        &lt;h2 id=&#34;full-source&#34;&gt;Full Source&lt;/h2&gt;
&lt;p&gt;You can view and download the complete repo from (including notebooks, datasets, source codes, Dockerfile, etc) &lt;a href=&#34;https://github.com/vmware/ml-ops-platform-for-vsphere/tree/main/website/content/en/docs/kubeflow-tutorial/lab5_pipeline_complete&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#full-source&#34;&gt;Full Source&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#table-of-contents&#34;&gt;Table of Contents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#introduction&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#understand-pipeline-and-pipeline-components&#34;&gt;Understand Pipeline and Pipeline Components&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#example-overview&#34;&gt;Example Overview&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#example-1-facial-keypoint-detection&#34;&gt;Example 1: Facial Keypoint Detection&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#about-model&#34;&gt;About Model&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#about-pipeline&#34;&gt;About Pipeline&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#notebook-preview&#34;&gt;Notebook Preview&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#example-2-g-research-crypto-forecasting&#34;&gt;Example 2: G-Research Crypto Forecasting&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#about-model-1&#34;&gt;About Model&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#about-pipeline-1&#34;&gt;About Pipeline&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#notebook-preview-1&#34;&gt;Notebook Preview&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#running-a-pipeline&#34;&gt;Running a Pipeline&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#upload-the-pipeline-to-kubeflow-ui&#34;&gt;Upload the pipeline to Kubeflow UI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#create-experiment-and-run&#34;&gt;Create experiment and run&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#check-logs-and-outputs&#34;&gt;Check logs and outputs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Kubeflow Pipelines is a platform for building and deploying portable, scalable machine learning (ML) workflows based on Docker containers. Each pipeline represents an ML workflow, and includes the specifications of all inputs needed to run the pipeline, as well the outputs of all components.&lt;/p&gt;
&lt;p&gt;Kubeflow Pipelines is one of the most powerful and popular features of Kubeflow. In this lab, we would guide you through two concrete examples  to build up and run Kubeflow pipelines in two different ways.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/vmware/ml-ops-platform-for-vsphere/blob/main/website/content/en/docs/kubeflow-tutorial/lab5_pipeline_complete/example1_facialKeypoint.ipynb&#34;&gt;Example 1 Facial Keypoint Detection: build pipeline from docker images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/vmware/ml-ops-platform-for-vsphere/blob/main/website/content/en/docs/kubeflow-tutorial/lab5_pipeline_complete/example2_gResearch.ipynb&#34;&gt;Example 2 G-Research Crypto Forecasting: build pipeline from notebook directly&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;For each example, we provide you with a already-compiled pipeline YAML files for quick-test purpose. If you prefer that, feel free to skip to pipeline running part and use them.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;understand-pipeline-and-pipeline-components&#34;&gt;Understand Pipeline and Pipeline Components&lt;/h2&gt;
&lt;p&gt;A Kubeflow pipeline is a portable and scalable definition of an ML workflow, based on containers. A pipeline is composed of a set of input parameters and a list of the steps in this workflow. Each step in a pipeline is an instance of a component, which is represented as an instance of &lt;code&gt;ContainerOp&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;A pipeline component is a containerized application that performs one step in a pipelineâ€™s workflow. Pipeline components are defined in component specifications. More details about components specifications can be found &lt;a href=&#34;https://www.kubeflow.org/docs/components/pipelines/v1/reference/component-spec/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Each step in our pipelineâ€™s workflow is an instance of a component. When we define our pipeline, we specify the source of each stepâ€™s inputs. Step inputs can be set from the pipelineâ€™s input arguments, constants, or step inputs can depend on the outputs of other steps in this pipeline. Kubeflow Pipelines uses these dependencies to define our pipelineâ€™s workflow as a graph.&lt;/p&gt;
&lt;h2 id=&#34;example-overview&#34;&gt;Example Overview&lt;/h2&gt;
&lt;p&gt;We suggest you go through examples in order, as some concept explanations are more detailed in Example 1.&lt;/p&gt;
&lt;h3 id=&#34;example-1-facial-keypoint-detection&#34;&gt;Example 1: Facial Keypoint Detection&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Notebook, Model source codes, datasets, Dockerfiles, example pipeline YAML file and example pipeline logs are all included in repo.&lt;/em&gt;&lt;/p&gt;
&lt;h4 id=&#34;about-model&#34;&gt;About Model&lt;/h4&gt;
&lt;p&gt;This model comes from Kaggle Competition. The objective of this task is to predict keypoint positions on face images, which can be used as a building block in several applications, such as analysing facial expressions and biometrics recognition.&lt;/p&gt;
&lt;p&gt;There are two main tasks: train and evaluation. Each would be built as a pipeline component later.&lt;/p&gt;
&lt;p&gt;Datasets for training and testing can be found and downloaded &lt;a href=&#34;https://www.kaggle.com/competitions/facial-keypoints-detection/data&#34;&gt;here&lt;/a&gt;. (You need to download &lt;code&gt;test.zip&lt;/code&gt; and &lt;code&gt;train.zip&lt;/code&gt; files and put them under &lt;code&gt;train/my_data&lt;/code&gt;. More details can be found in &lt;a href=&#34;https://github.com/vmware/ml-ops-platform-for-vsphere/blob/main/website/content/en/docs/kubeflow-tutorial/lab5_pipeline_complete/example1_facialKeypoint.ipynb&#34;&gt;Example 1 Notebook&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;More details about this model itself can be found &lt;a href=&#34;https://www.kaggle.com/competitions/facial-keypoints-detection&#34;&gt;here on Kaggle Competition page&lt;/a&gt;.&lt;/p&gt;
&lt;h4 id=&#34;about-pipeline&#34;&gt;About Pipeline&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;In this example, we would first containzernize each pipeline component as a docker image, and then build pipeline from these components&amp;rsquo; images.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When Kubeflow Pipelines executes a component, a container image is started in a Kubernetes Pod and your componentâ€™s inputs are passed in as command-line arguments.&lt;/p&gt;
&lt;p&gt;Therefore, while designing pipeline components, we need to consider following issues:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Which inputs can be passed to our component by value? And which inputs, which cannot be directly passed as a command-line argument, should be passed to your component by a reference to the inputâ€™s path?&lt;/li&gt;
&lt;li&gt;To return an output from our component, the outputâ€™s data must be stored as a file. We need to let Kubeflow Pipelines know what outputs our component produces, so that when our pipeline runs, Kubeflow Pipelines can pass the paths that we use to store our componentâ€™s outputs as inputs to our component.&lt;/li&gt;
&lt;li&gt;Since your inputs and output paths are passed in as command-line arguments, your componentâ€™s code must be able to read inputs from the command line.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And in this example, specifically, a component specification should define:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The componentâ€™s inputs and outputs&lt;/li&gt;
&lt;li&gt;The container image that your componentâ€™s code runs in, the command to use to run your componentâ€™s code, and the command-line arguments to pass to your componentâ€™s code&lt;/li&gt;
&lt;li&gt;The componentâ€™s metadata, such as the name and description&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;notebook-preview&#34;&gt;Notebook Preview&lt;/h4&gt;
&lt;hr&gt;
&lt;div&gt;
&lt;iframe 
style=&#34;
width: 100%;
height: 80vh;
border: 1px solid #aaa;
margin-bottom: 20px;
&#34;
src=&#34;https://nbviewer.org/github/vmware/ml-ops-platform-for-vsphere/blob/main/website/content/en/docs/kubeflow-tutorial/lab5_pipeline_complete/example1_facialKeypoint.ipynb?flush_cache=true&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;h3 id=&#34;example-2-g-research-crypto-forecasting&#34;&gt;Example 2: G-Research Crypto Forecasting&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Notebook, example pipeline YAML file and example pipeline logs are included in repo.&lt;/em&gt;&lt;/p&gt;
&lt;h4 id=&#34;about-model-1&#34;&gt;About Model&lt;/h4&gt;
&lt;p&gt;This model comes from Kaggle Competition. Over $40 billion worth of cryptocurrencies are traded every day. The objective of this task is to correctly forecast short term returns in 14 popular cryptocurrencies. &lt;a href=&#34;https://www.gresearch.co.uk/&#34;&gt;G-Research&lt;/a&gt; is Europeâ€™s leading quantitative finance research firm, and partered with &lt;a href=&#34;https://www.cambridgespark.com&#34;&gt;Cambridge Spark&lt;/a&gt; for this Kaggle Competition.&lt;/p&gt;
&lt;p&gt;The dataset this model would use contains information on historic trades for several cryptoassets, such as Bitcoin and Ethereum. Dataset would be downloaded from Kaggle.&lt;/p&gt;
&lt;p&gt;More details about this model and dataset itself or Kaggle Competition can be found &lt;a href=&#34;https://www.kaggle.com/competitions/g-research-crypto-forecasting/overview&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h4 id=&#34;about-pipeline-1&#34;&gt;About Pipeline&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;In this example, we would directly build pipeline components in notebook, from model itself. Some modifications are required to the original model function.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Again, we design our pipeline component by component. We build our components this time as Python function-based components. The Kubeflow Pipelines SDK makes it easier to build lightweight Python function-based components by saving the effort of creating a component specification. Python function-based components make it easier to build pipeline components by building the component specification for you. Python function-based components also handle the complexity of passing inputs into your component and passing your functionâ€™s outputs back to your pipeline.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s walk through this concrete example to understand above ideas better.&lt;/p&gt;
&lt;p&gt;Note that the overall workflow follows from original model itself. So please do not freak out when you see long, heavy code cells.&lt;/p&gt;
&lt;p&gt;Basically, the following modifications were required to the original function.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The import statements were moved inside of the function. Python function-based components require standalone Python functions. This means that any required import statements must be defined within the function, and any helper functions must be defined within the function.&lt;/li&gt;
&lt;li&gt;The functionâ€™s arguments all include &lt;code&gt;data_path&lt;/code&gt; which specifies the location for data storage, and also accessing. This lets Kubeflow Pipelines know the where to extract the data in zipped tar file into, where your function stores the processed data or model, and where to access it and use it as inputs for components.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;notebook-preview-1&#34;&gt;Notebook Preview&lt;/h4&gt;
&lt;hr&gt;
&lt;div&gt;
&lt;iframe 
style=&#34;
width: 100%;
height: 80vh;
border: 1px solid #aaa;
margin-bottom: 20px;
&#34;
src=&#34;https://nbviewer.org/github/vmware/ml-ops-platform-for-vsphere/blob/main/website/content/en/docs/kubeflow-tutorial/lab5_pipeline_complete/example2_gResearch.ipynb?flush_cache=true&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&#34;running-a-pipeline&#34;&gt;Running a Pipeline&lt;/h2&gt;
&lt;p&gt;In both examples, we compiled the pipeline as a YAML file. So here we provide you with a brief guide on how to run a pipeline.&lt;/p&gt;
&lt;p&gt;We would use Example 2: G-Research Crypto Forecasting as example.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note: following pictures would be loaded and displayed on our website. If you are reading this markdown file in github repo, following pictures may not be loaded. If that is the case, please view them in &lt;code&gt;./img&lt;/code&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;upload-the-pipeline-to-kubeflow-ui&#34;&gt;Upload the pipeline to Kubeflow UI&lt;/h3&gt;
&lt;p&gt;Following our notebook, you should be able to see a file called &lt;code&gt;pipeline_gResearch.yaml&lt;/code&gt;, under the same directory of the example 2 notebook. Download &lt;code&gt;pipeline_gResearch.yaml&lt;/code&gt;, and upload it to Pipelines on Kubeflow UI.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../img/g1.png&#34; alt=&#34;g1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../img/g2.png&#34; alt=&#34;g2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../img/g3.png&#34; alt=&#34;g3&#34;&gt;&lt;/p&gt;
&lt;p&gt;This pipeline graph is more complex than the one in Example 1. You may take some time going through it.&lt;/p&gt;
&lt;h3 id=&#34;create-experiment-and-run&#34;&gt;Create experiment and run&lt;/h3&gt;
&lt;p&gt;Create an experiment for this pipeline, and create a run. This time, you need to provide two inputs, &lt;code&gt;dataset&lt;/code&gt; and &lt;code&gt;data_path&lt;/code&gt;, exactly the ones for our first step Data Download. If you do not intend to make any personalization on datasets and data path, enter following values&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# arguments&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;#34;&amp;#34; not needed while inputting them&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;dataset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;g-research-crypto-forecasting&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;data_path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/mnt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../img/g4.png&#34; alt=&#34;g4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../img/g5.png&#34; alt=&#34;g5&#34;&gt;&lt;/p&gt;
&lt;p&gt;The pipeline would start to run then. You would be able to see the running process in Runs Page on Kubeflow UI.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../img/g6.png&#34; alt=&#34;g6&#34;&gt;&lt;/p&gt;
&lt;p&gt;The pipeline running may take some time, as the datasets is pretty big and there are much more steps in this example. There would be a green symbol appears next to each component after its completion. And you can always click on each component to see its details, such as its input/output, volumes, logs, and pod.&lt;/p&gt;
&lt;h3 id=&#34;check-logs-and-outputs&#34;&gt;Check logs and outputs&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;../img/g7.png&#34; alt=&#34;g7&#34;&gt;&lt;/p&gt;
&lt;p&gt;After the whole pipeline finishes running, click on any of the component/step that you are interested in. You should be able to see main-logs under Input/Output, Output artifacts.&lt;/p&gt;
&lt;p&gt;Specifically, click on Evaluation Result Step, you should see &amp;ldquo;metrics&amp;rdquo; under Input/Output, Output artifacts. Click into them to see the evaluation metrics.&lt;/p&gt;
&lt;p&gt;We also provide you with example logs of evaluation metrics in &lt;a href=&#34;https://github.com/vmware/ml-ops-platform-for-vsphere/tree/main/website/content/en/docs/kubeflow-tutorial/lab5_pipeline_complete/logs&#34;&gt;logs&lt;/a&gt; folder.&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
